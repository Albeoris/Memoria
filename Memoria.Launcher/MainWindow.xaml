<Window
    x:Class="Memoria.Launcher.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:launcher="clr-namespace:Memoria.Launcher"
    Title="{Binding LauncherWindowTitle, FallbackValue='Final Fantasy IX | Memoria Launcher'}"
    Width="1000"
    Height="700"
    BorderThickness="1"
    BorderBrush="#2fff"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    AllowsTransparency="True"
    Background="Transparent">

    <Window.Resources>
        <Style x:Key="TransparentGridStyle" TargetType="Grid">
            <Setter Property="Background" Value="#b000" />
        </Style>

        <Style TargetType="TabItem">
            <Setter Property="Background" Value="#D000" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Height" Value="45" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid Background="{TemplateBinding Background}">
                            <Border Background="Transparent">
                                <ContentPresenter x:Name="content"
                                ContentSource="Header"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Margin="20,0"
                                TextBlock.FontSize="{TemplateBinding FontSize}"
                                TextBlock.FontFamily="{DynamicResource CenturyGothic}"
                                TextBlock.FontWeight="{TemplateBinding FontWeight}"
                                TextBlock.Foreground="#aaa" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <!-- Selected state: opaque black background and bold text -->
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#b000" />
                    <Setter Property="Foreground" Value="#fff" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Grid Background="{TemplateBinding Background}">
                                    <ContentPresenter x:Name="content"
                                        ContentSource="Header"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Margin="20,0"
                                        TextBlock.FontSize="{TemplateBinding FontSize}"
                                        TextBlock.FontFamily="{DynamicResource CenturyGothic}"
                                        TextBlock.FontWeight="{TemplateBinding FontWeight}"
                                        TextBlock.Foreground="#fff" />
                                    <Rectangle x:Name="underline"
                                        Fill="{DynamicResource BrushTextColorHover}"
                                        Height="1"
                                        Width="{Binding ActualWidth, ElementName=content}"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Bottom" 
                                        Margin="0,0,0,5" />
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Background Image -->
        <Image x:Name="Launcher"
            Height="889"
            VerticalAlignment="Top"
            MouseDown="Launcher_MouseDown"
            Source="/images/new_launcher_bg.jpg" />

        <Image x:Name="LogoImage"
            Height="250"
            VerticalAlignment="Top"
               HorizontalAlignment="Left"
               Margin="20,-53,0,0"
            MouseDown="Launcher_MouseDown"
            Source="/images/FF9_logo.png" />

        <Button Content="X"
                Width="52"
                Height="23"
                Foreground="White"
                FontSize="14"
                FontWeight="Thin"
                FontStretch="ExtraExpanded"
                BorderThickness="0"
                BorderBrush="White"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Click="CloseButton_Click">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Button.Template>
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="Background" Value="#9777"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="Red"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>

        <TabControl HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Width="960"
                    Height="528"
                    Margin="0,0,0,22"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    BorderThickness="0"
                    Padding="0">

            <!-- Settings Tab -->
            <TabItem x:Name="menuSettings" Header="SETTINGS">
                <Grid Style="{StaticResource TransparentGridStyle}">
                    <launcher:SettingsGrid_VanillaDisplay x:Name="GameSettingsDisplay"
                        Width="293"
                        Margin="20,15"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" />

                    <launcher:SettingsGrid_Display x:Name="SettingsGrid_Display"
                        Width="293"
                        Margin="20,131,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" />

                    <launcher:SettingsGrid_Main x:Name="SettingsGrid_Main"
                        Width="292"
                        Margin="0,15,0,0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top" />

                    <launcher:SettingsGrid_Main2 x:Name="SettingsGrid_Main2"
                        Width="293"
                        Margin="0,15,20,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top" />
                </Grid>
            </TabItem>

            <!-- Cheats Tab -->
            <TabItem x:Name="menuCheats" Header="CHEATS">
                <Grid Style="{StaticResource TransparentGridStyle}">
                    <launcher:SettingsGrid_Cheats x:Name="SettingsGrid_Cheats"
                        Width="293"
                        Margin="20,15"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" />
                    <launcher:SettingsGrid_Cheats2 x:Name="SettingsGrid_Cheats2"
                        Width="293"
                        Margin="20,15"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top" />
                </Grid>
            </TabItem>

            <!-- Advanced Tab -->
            <TabItem x:Name="menuAdvanced" Header="ADVANCED">
                <Grid Style="{StaticResource TransparentGridStyle}">
                    <launcher:SettingsGrid_Vanilla x:Name="GameSettings"
                        Width="293"
                        Margin="20,15"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" />

                    <launcher:SettingsGrid_Advanced x:Name="SettingsGrid_Advanced"
                        Width="293"
                        Margin="20,156,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" />

                    <launcher:UiLauncherModelViewerButton
                        Width="292"
                        Height="36"
                        Margin="0,20,0,0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top"
                        Content="" />
                </Grid>
            </TabItem>
        </TabControl>

        <!-- Play Button -->
        <launcher:UiLauncherPlayButton x:Name="PlayButton"
            Width="260"
            Height="69"
            Margin="0,46,20,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top" />

        <!-- Mod Manager Button -->
        <launcher:UiLauncherModManagerButton
            Width="260"
            Height="36"
            Margin="0,120,20,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Content="" />

        <Grid
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Width="260"
            Margin="0,145,10,0" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <Image
                x:Name="alert_incompat_icon"
                Grid.Column="0"
                Height="20"
                Width="20"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Margin="0,0,3,0"
                Panel.ZIndex="1"
                Source="/images/alert_incompat.png"
                ToolTipService.InitialShowDelay="1"
                ToolTip=""
                Visibility="Collapsed" />
            <Image
                x:Name="alert_update_icon"
                Grid.Column="1"
                Height="20"
                Width="20"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Panel.ZIndex="1"
                Source="/images/alert_update.png"
                ToolTipService.InitialShowDelay="1"
                ToolTip=""
                Visibility="Visible" />
        </Grid>

        <TextBlock x:Name="Nameandversion"
            Text="{Binding MemoriaEngine, FallbackValue='MEMORIA ENGINE'}"
            Foreground="#6fff"
            FontSize="15"
            FontWeight="Normal"
            FontFamily="{DynamicResource CenturyGothic}"
            Margin="20,0,0,2"
            HorizontalAlignment="Left"
            VerticalAlignment="Bottom" />

    </Grid>
</Window>