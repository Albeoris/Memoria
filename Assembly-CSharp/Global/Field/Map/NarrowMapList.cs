using System;
using System.Collections.Generic;
public static class NarrowMapList
{
    /// <summary>is mapId <= ScreenWidth</summary>
    public static Boolean IsCurrentMapNarrow(Int32 ScreenWidth)
    {
        Int32 mapId = FF9StateSystem.Common.FF9.fldMapNo;
        if (MapWidth(mapId) <= ScreenWidth)
            return true;

        return false;
    }
    public static Boolean SpecificScenesNarrow(Int32 mapId)
    {
        Int32 currIndex = PersistenSingleton<EventEngine>.Instance.eBin.getVarManually(EBin.MAP_INDEX_SVR);
        Int32 currCounter = PersistenSingleton<EventEngine>.Instance.eBin.getVarManually(EBin.SC_COUNTER_SVR);

        foreach (int[] entry in RestrictedWidthScenesList)
        {
            if (entry[0] == mapId && (entry[1] == currIndex || entry[2] == currCounter))
                return true;
        }
        return false;
    }

    public static Int32 MapWidth(Int32 mapId)
    {
        if (SpecificScenesNarrow(mapId))
            return 320;

        foreach (int[] entry in MapWidthList)
        {
            if (entry[0] == mapId)
                return entry[1];
        }

        return 500;
    }

    /// <summary>Make these scenes widescreen (based on index [1] or counter [2]), -5 is ignored</summary>
    public static readonly int[][] RestrictedWidthScenesList =
    {
        // [mapNo, EBin.MAP_INDEX_SVR, EBin.SC_COUNTER_SVR],
        [150,325,-5],      // Zidane infiltrate Alex Castle
        [254,26,-5],       // MBG103 - Evil Forest
        [352,3,-5],        // Arrival at Dali: vivi visible before sleeping
        [1550,-5,6270],    // Mountain path - Quina stays there
        [1554,-5,6300],    // MBG109 - roots
        [1554,-5,6305],    // MBG109 - roots
        [1602,16,-5],      // scene at Madain Sari night w/ Vivi/Zidane/Eiko eavesdropping, bugged if you see too much
        [1815,0,-5],       // Love quiproquo at the docks
        [1816,315,-5],     // Love quiproquo at the docks
        [1901,-5,7550],    // Treno scene, people staying there
        [2007,-5,8340],    // MBG111 - Alex castle changing
        [2007,-5,8400],    // MBG111 - Alex castle changing
        [2173,-5,9050],    // ATE Quina
        [2211,8,-5],       // Lindblum meeting after Alexander scene: ATE with kuja at his ship, Zorn & Thorn visible too soon and blending
        [2404,25,-5],      // Baku seen waiting on the docks too soon
        [2705,-1,-5],      // Pandemonium, you're not alone sequence, several glitches
        [2706,-1,-5],      // Pandemonium, you're not alone sequence, several glitches
        [2707,-1,-5],      // Pandemonium, you're not alone sequence, several glitches
        [2708,-1,-5],      // Pandemonium, you're not alone sequence, several glitches
        [2711,0,-5],       // Pandemonium, people are waiting in line after Kuja is defeated
        [2905,-5,11620],   // MBG118 - Memoria pink castle
    };

    /// <summary>List of fields with narrower cams than widescreen, [field#, cam#, PSXWidth]</summary>
    public static readonly int[][] RestrictedCams =
    {
        // [mapNo,cam,width],
        [50,1,320],
        [63,0,320],
        [116,1,320],
        [153,0,320],
        [154,0,352],
        [355,1,320],
        [600,1,320],
        [615,1,320],
        [801,1,336],
        [932,1,320],
        [951,1,336],
        [1205,1,384],
        [1206,1,320],
        [1214,0,320],
        [1215,0,352],
        [1462,0,320],
        [1652,1,336],
        [1759,1,336],
        [1801,1,320],
        [1806,0,320],
        [1807,0,352],
        [1823,1,320],
        [2150,1,320],
        [2172,1,320],
        [2217,1,320],
        [2217,2,320],
        [2363,0,384],
        [2363,1,336],
        [2510,0,320],
        [2755,1,336],
    };

    /// <summary>List of fields of width smaller than widescreen, [field#,PSXWidth]</summary>
    public static readonly int[][] MapWidthList =
    {
        [52,320],
        [53,320],
        [55,320],
        [55,398],
        [56,320],
        [58,320],
        [59,320],
        [60,366],
        [61,320],
        [62,320],
        [65,320],
        [66,320],
        [67,320],
        [68,320],
        [69,320],
        [100,320],
        [102,382],
        [104,320],
        [105,320],
        [108,320],
        [109,382],
        [114,350],
        [150,366],
        [151,320],
        [157,398],
        [160,320],
        [161,366],
        [162,320],
        [162,382],
        [163,318],
        [164,318],
        [165,320],
        [166,320],
        [167,320],
        [201,366],
        [203,334],
        [205,320],
        [206,382],
        [207,382],
        [209,320],
        [251,382],
        [252,382],
        [255,320],
        [256,320],
        [259,320],
        [261,320],
        [262,320],
        [262,366],
        [300,320],
        [301,320],
        [305,320],
        [306,320],
        [308,320],
        [309,320],
        [310,320],
        [311,320],
        [354,320],
        [357,320],
        [358,320],
        [359,320],
        [400,320],
        [405,398],
        [407,382],
        [452,320],
        [453,320],
        [454,320],
        [455,318],
        [456,398],
        [457,320],
        [500,320],
        [502,320],
        [503,320],
        [505,398],
        [506,320],
        [550,350],
        [551,320],
        [553,382],
        [556,382],
        [560,320],
        [561,398],
        [565,366],
        [566,398],
        [567,320],
        [568,320],
        [568,398],
        [569,398],
        [570,320],
        [571,398],
        [574,320],
        [576,320],
        [601,320],
        [606,318],
        [607,320],
        [609,320],
        [613,398],
        [620,350],
        [656,398],
        [657,398],
        [658,398],
        [659,398],
        [663,398],
        [701,320],
        [705,382],
        [750,320],
        [751,382],
        [753,398],
        [754,320],
        [755,398],
        [758,320],
        [760,334],
        [764,320],
        [765,320],
        [766,320],
        [767,320],
        [800,320],
        [802,350],
        [803,350],
        [806,398],
        [813,382],
        [814,334],
        [816,334],
        [851,398],
        [855,398],
        [901,398],
        [911,366],
        [913,398],
        [930,320],
        [931,318],
        [950,382],
        [954,320],
        [955,320],
        [1000,320],
        [1001,320],
        [1002,320],
        [1003,320],
        [1006,320],
        [1007,320],
        [1009,320],
        [1013,320],
        [1017,382],
        [1018,382],
        [1050,316],
        [1054,398],
        [1058,380],
        [1100,320],
        [1104,398],
        [1108,380],
        [1150,320],
        [1151,334],
        [1153,398],
        [1200,320],
        [1201,382],
        [1208,320],
        [1210,382],
        [1212,350],
        [1213,366],
        [1214,320],
        [1218,398],
        [1221,320],
        [1222,366],
        [1226,320],
        [1250,320],
        [1251,366],
        [1252,320],
        [1253,320],
        [1254,366],
        [1300,350],
        [1301,320],
        [1303,382],
        [1308,320],
        [1312,366],
        [1313,398],
        [1314,320],
        [1350,320],
        [1351,320],
        [1356,320],
        [1357,320],
        [1359,320],
        [1363,398],
        [1370,350],
        [1401,320],
        [1403,366],
        [1404,382],
        [1406,320],
        [1408,398],
        [1410,320],
        [1414,398],
        [1424,398],
        [1452,382],
        [1453,382],
        [1455,320],
        [1456,398],
        [1457,320],
        [1458,334],
        [1459,320],
        [1461,320],
        [1463,320],
        [1464,320],
        [1500,334],
        [1506,334],
        [1507,318],
        [1508,350],
        [1509,320],
        [1509,382],
        [1556,320],
        [1557,320],
        [1600,398],
        [1601,398],
        [1602,398],
        [1605,334],
        [1606,334],
        [1607,320],
        [1608,334],
        [1609,320],
        [1610,320],
        [1650,350],
        [1655,320],
        [1656,382],
        [1657,346],
        [1658,320],
        [1660,334],
        [1661,334],
        [1662,334],
        [1663,320],
        [1700,398],
        [1701,398],
        [1702,398],
        [1704,320],
        [1705,334],
        [1706,320],
        [1707,334],
        [1750,320],
        [1751,334],
        [1752,350],
        [1753,320],
        [1755,320],
        [1756,320],
        [1757,350],
        [1800,320],
        [1803,366],
        [1805,352],
        [1810,398],
        [1813,320],
        [1814,366],
        [1817,366],
        [1818,320],
        [1820,382],
        [1822,320],
        [1850,320],
        [1852,382],
        [1854,320],
        [1857,320],
        [1858,382],
        [1863,350],
        [1866,320],
        [1901,398],
        [1911,366],
        [1913,398],
        [1951,350],
        [1952,350],
        [1953,366],
        [2000,350],
        [2002,366],
        [2004,366],
        [2005,320],
        [2006,366],
        [2008,320],
        [2050,320],
        [2052,382],
        [2055,350],
        [2101,320],
        [2103,382],
        [2108,320],
        [2112,366],
        [2113,398],
        [2114,320],
        [2151,320],
        [2157,320],
        [2159,320],
        [2163,398],
        [2171,320],
        [2200,382],
        [2202,334],
        [2203,350],
        [2204,334],
        [2205,334],
        [2208,334],
        [2212,398],
        [2213,398],
        [2222,382],
        [2250,320],
        [2254,334],
        [2255,320],
        [2257,334],
        [2260,320],
        [2261,350],
        [2303,334],
        [2305,320],
        [2351,320],
        [2352,398],
        [2353,398],
        [2354,320],
        [2355,382],
        [2356,350],
        [2361,320],
        [2362,350],
        [2365,334],
        [2400,366],
        [2405,320],
        [2406,382],
        [2450,320],
        [2451,382],
        [2453,320],
        [2458,320],
        [2500,350],
        [2501,350],
        [2502,366],
        [2503,366],
        [2505,320],
        [2510,320],
        [2512,320],
        [2513,334],
        [2551,398],
        [2552,352],
        [2601,398],
        [2602,382],
        [2608,320],
        [2650,366],
        [2654,350],
        [2657,382],
        [2658,398],
        [2701,320],
        [2706,398],
        [2715,320],
        [2719,320],
        [2752,320],
        [2756,334],
        [2771,350],
        [2851,382],
        [2855,382],
        [2856,382],
        [2900,320],
        [2901,320],
        [2902,320],
        [2904,366],
        [2906,398],
        [2908,320],
        [2909,320],
        [2910,320],
        [2912,320],
        [2913,366],
        [2914,320],
        [2915,382],
        [2917,320],
        [2918,320],
        [2919,320],
        [2920,320],
        [2922,320],
        [2924,320],
        [2925,320],
        [2926,320],
        [2927,320],
        [2928,366],
        [2929,320],
        [2930,320],
        [2932,334],
        [2933,320],
        [2934,320],
        [2950,320],
        [2953,320],
        [3001,320],
        [3003,320],
        [3005,398],
        [3006,320],
        [3008,320],
        [3009,320],
        [3010,320],
        [3011,320],
        [3052,382],
        [3054,320],
        [3055,398],
        [3056,320],
        [3057,334],
        [3058,320],
        [3100,366],
    };

    /// <summary>Left and right margin of camera (because it goes too far), [field#,PSXmargin]</summary>
    public static readonly Dictionary<int, int> mapCameraMargin = new Dictionary<int, int>
    {
        //{mapNo,pixels on each side to crop because of scrollable}
        {1051,9},
        {1057,17},
        {1058,16},
        {1060,17},
        {1652,16},
        {1653,16},
    };
}
